<h1>Valider ma commande</h1>

<%= form_with(model: @order, local: true) do |form| %>
  <% if @order.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@order.errors.count, "erreur") %> empêchent la commande d'être enregistrée :</h2>
      <ul>
        <% @order.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Statut peut être "en cours", "payée", etc. -->
  <div class="field">
    <%= form.label :status, "Statut" %>
    <%= form.select :status, ['en attente', 'payée', 'annulée'], prompt: "Choisir un statut" %>
  </div>

  <!-- Champ total_price si tu le laisses visible -->
  <div class="field">
    <%= form.label :total_price, "Prix total (€)" %>
    <%= form.number_field :total_price, step: 0.01 %>
  </div>

  <div class="actions">
    <%= form.submit "Payer", class: "btn btn-success" %>
  </div>
<% end %>
